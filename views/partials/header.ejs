<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Make site responsive on mobile/tablet -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Code Chapel</title>
    <link rel="icon" href="/images/favicon.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <!-- jQuery CDN -->
    <script
            src="https://code.jquery.com/jquery-3.1.1.min.js"
            integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
            crossorigin="anonymous"></script>

    <!-- Bootstrap JS CDN -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous">
    </script>

    <!--    font-->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Righteous&display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">
</head>

<body>
<!--creating the navigation bar-->
<nav id="main-nav" class="navbar fixed-top">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>

        <a id="site-name" style="font-family: 'Orbitron', cursive" class="navbar-brand" href="/">Code Chapel</a>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
            <li class=<%= typeof page !== 'undefined' && (page === 'recent' || page === 'search') ? "clicked" : '' %>>
                <a href="/articles">Home</a>
            </li>
            <!--            categories-->
            <% categories.forEach(function (category) { %>

                <% if(category.name.toLowerCase() === "python"){ %>
                    <% if(page === 'undefined'){ %>
                        <li style="background-color: green">
                            <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                        </li>
                    <% }else{ %>
                        <% if(page !== category.name){ %>
                            <li style="background-color: green">
                                <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                            </li>
                        <% }else{ %>
                            <li class=<%= typeof page !== 'undefined' && page === category.name ? "clicked" : '' %>>
                                <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                            </li>
                        <% } %>
                    <% } %>
                <% }else if (category.name.toLowerCase() === "c++"){ %>
                    <% if(page === 'undefined'){ %>
                        <li style="background-color: purple">
                            <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                        </li>
                    <% }else{ %>
                        <% if(page !== category.name){ %>
                            <li style="background-color: purple">
                                <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                            </li>
                        <% }else{ %>
                            <li class=<%= typeof page !== 'undefined' && page === category.name ? "clicked" : '' %>>
                                <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                            </li>
                        <% } %>
                    <% } %>
                <% } else if(category.name.toLowerCase() === "javascript"){ %>
                    <% if(page === 'undefined'){ %>
                        <li style="background-color: #cbcb00">
                            <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                        </li>
                    <% }else{ %>
                        <% if(page !== category.name){ %>
                            <li style="background-color: #cbcb00">
                                <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                            </li>
                        <% }else{ %>
                            <li class=<%= typeof page !== 'undefined' && page === category.name ? "clicked" : '' %>>
                                <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                            </li>
                        <% } %>
                    <% } %>
                <% }else if(category.name.toLowerCase() === "java"){ %>
                    <% if(page === 'undefined'){ %>
                        <li style="background-color: darkred">
                            <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                        </li>
                    <% }else{ %>
                        <% if(page !== category.name){ %>
                            <li style="background-color: darkred">
                                <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                            </li>
                        <% }else{ %>
                            <li class=<%= typeof page !== 'undefined' && page === category.name ? "clicked" : '' %>>
                                <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                            </li>
                        <% } %>
                    <% } %>
                <% }else if(category.name.toLowerCase() === "php"){ %>
                    <% if(page === 'undefined'){ %>
                        <li style="background-color: mediumslateblue">
                            <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                        </li>
                    <% }else{ %>
                        <% if(page !== category.name){ %>
                            <li style="background-color: mediumslateblue">
                                <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                            </li>
                        <% }else{ %>
                            <li class=<%= typeof page !== 'undefined' && page === category.name ? "clicked" : '' %>>
                                <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                            </li>
                        <% } %>
                    <% } %>
                <% }else{ %>
                    <li class=<%= typeof page !== 'undefined' && page === category.name ? "clicked" : '' %>>
                        <a href="/categories/<%= category["_id"] %>/articles"><%= category.name %></a>
                    </li>
                <% } %>

            <% }); %>
        </ul>
        <ul class="nav navbar-nav navbar-right">
            <% if(!currentUser){ %>
                <li class=<%= typeof page !== 'undefined' && page === 'login' ? "clicked" : '' %>><a
                            href="/users/login">Login</a>
                </li>
                <li class=<%= typeof page !== 'undefined' && page === 'register' ? "clicked" : '' %>><a
                            href="/users/new">Sign Up</a></li>
            <% } else { %>
                <li><a href="/users/<%= currentUser._id %>">Signed in as: <span
                                id="username"><%= currentUser.username %></span></a></li>
                <li><a href="/users/logout">Logout</a></li>
            <% } %>
        </ul>
    </div>
</nav>

<!--show error messages if any-->
<% if(error && error.length > 0){ %>
    <div class="container">
        <div class="alert alert-danger"><%= error %></div>
    </div>
<% } %>

<!--show success messages if any-->
<% if(success && success.length > 0){ %>
    <div class="container">
        <div class="alert alert-success"><%= success %></div>
    </div>
<% } %>

<!--refactoring content-->

<div class="container" style="min-height: 100vh">

    <!--insert elements here-->